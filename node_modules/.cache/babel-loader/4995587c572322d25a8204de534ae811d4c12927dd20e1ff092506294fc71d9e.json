{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/Dpopo/Documents/GitHub/infinity-task-list/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/Dpopo/Documents/GitHub/infinity-task-list/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Dpopo/Documents/GitHub/infinity-task-list/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import{useState}from\"react\";import tasks from\"../../store/Tasks\";import{Button,Card,Col,message,Row,Empty,Tooltip}from\"antd\";import{DeleteOutlined,EditOutlined}from\"@ant-design/icons\";import TaskModal from\"../../components/TaskModal/TaskModal\";import{observer}from\"mobx-react-lite\";import TaskListItem from\"../../components/TaskListItem/TaskListItem\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var TasksPage=function TasksPage(){var _useState=useState(false),_useState2=_slicedToArray(_useState,2),createModalOpen=_useState2[0],setCreateModalOpen=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),loading=_useState4[0],setLoading=_useState4[1];var createNewTask=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(data){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:setLoading(true);try{tasks.addTask(data);setCreateModalOpen(false);}catch(e){message.error('Ошибка добавления задачи!');}setLoading(false);case 3:case\"end\":return _context.stop();}},_callee);}));return function createNewTask(_x){return _ref.apply(this,arguments);};}();useEffect(function(){tasks.getTasksFromLocalStorage();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Card,{style:{width:'100%',maxHeight:'80vh',margin:'20px',overflow:\"auto\"},children:/*#__PURE__*/_jsxs(Row,{gutter:[20,20],children:[/*#__PURE__*/_jsx(Col,{xs:24,lg:12,children:/*#__PURE__*/_jsx(Card,{title:\"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0437\\u0430\\u0434\\u0430\\u0447\",extra:[/*#__PURE__*/_jsx(Tooltip,{title:\"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\",children:/*#__PURE__*/_jsx(Button,{style:{marginRight:10},onClick:function onClick(){return setCreateModalOpen(true);},icon:/*#__PURE__*/_jsx(EditOutlined,{})})}),/*#__PURE__*/_jsx(Tooltip,{title:\"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\",children:/*#__PURE__*/_jsx(Button,{onClick:function onClick(){return tasks.deleteSelectedTasks();},icon:/*#__PURE__*/_jsx(DeleteOutlined,{}),danger:true,type:\"primary\"})})],children:tasks.tasks.filter(function(task){return task.parentTaskId===undefined;}).map(function(task){return/*#__PURE__*/_jsx(TaskListItem,{task:task},task.id);})})}),/*#__PURE__*/_jsx(Col,{xs:24,lg:12,children:Object.keys(tasks.task).length!==0?/*#__PURE__*/_jsx(Card,{title:tasks.task.name,children:tasks.task.description}):/*#__PURE__*/_jsx(Card,{children:/*#__PURE__*/_jsx(Empty,{description:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0437\\u0430\\u0434\\u0430\\u0447\\u0443\"})})})]})}),/*#__PURE__*/_jsx(TaskModal,{open:createModalOpen,loading:loading,onCancel:function onCancel(){return setCreateModalOpen(false);},onFinish:createNewTask})]});};export default observer(TasksPage);","map":{"version":3,"names":["React","useEffect","useState","tasks","Button","Card","Col","message","Row","Empty","Tooltip","DeleteOutlined","EditOutlined","TaskModal","observer","TaskListItem","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","TasksPage","_useState","_useState2","_slicedToArray","createModalOpen","setCreateModalOpen","_useState3","_useState4","loading","setLoading","createNewTask","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","addTask","e","error","stop","_x","apply","arguments","getTasksFromLocalStorage","children","style","width","maxHeight","margin","overflow","gutter","xs","lg","title","extra","marginRight","onClick","icon","deleteSelectedTasks","danger","type","filter","task","parentTaskId","undefined","map","id","Object","keys","length","name","description","open","onCancel","onFinish"],"sources":["C:/Users/Dpopo/Documents/GitHub/infinity-task-list/src/page/Tasks/TasksPage.tsx"],"sourcesContent":["import React, {useEffect} from 'react';\r\nimport {useState} from \"react\";\r\nimport {ITaskForm} from \"../../type/task\";\r\nimport tasks from \"../../store/Tasks\";\r\nimport {Button, Card, Col, message, Row, Empty, Tooltip} from \"antd\";\r\nimport {DeleteOutlined, EditOutlined} from \"@ant-design/icons\";\r\nimport TaskModal from \"../../components/TaskModal/TaskModal\";\r\nimport {observer} from \"mobx-react-lite\";\r\nimport TaskListItem from \"../../components/TaskListItem/TaskListItem\";\r\n\r\nconst TasksPage = () => {\r\n    const [createModalOpen, setCreateModalOpen] = useState<boolean>(false);\r\n    const [loading, setLoading] = useState<boolean>(false);\r\n\r\n    const createNewTask = async (data: ITaskForm) => {\r\n        setLoading(true);\r\n        try {\r\n            tasks.addTask(data);\r\n            setCreateModalOpen(false);\r\n        } catch (e) {\r\n            message.error('Ошибка добавления задачи!');\r\n        }\r\n        setLoading(false);\r\n    }\r\n\r\n    useEffect(() => {\r\n        tasks.getTasksFromLocalStorage();\r\n    }, [])\r\n\r\n    return (\r\n        <>\r\n            <Card style={{width: '100%', maxHeight: '80vh', margin: '20px', overflow: \"auto\"}}>\r\n                <Row gutter={[20, 20]}>\r\n                    <Col xs={24} lg={12}>\r\n                        <Card title='Список задач' extra={[\r\n                            <Tooltip title='Добавить задачу'>\r\n                                <Button\r\n                                    style={{marginRight: 10}}\r\n                                    onClick={() => setCreateModalOpen(true)}\r\n                                    icon={<EditOutlined/>}\r\n                                ></Button>\r\n                            </Tooltip>,\r\n                            <Tooltip title='Удалить задачу'>\r\n                            <Button\r\n                                onClick={() => tasks.deleteSelectedTasks()}\r\n                                icon={<DeleteOutlined/>}\r\n                                danger\r\n                                type='primary'\r\n                            ></Button>\r\n                            </Tooltip>\r\n                        ]}\r\n                        >\r\n                            {\r\n                                tasks.tasks.filter(task => task.parentTaskId === undefined).map(task =>\r\n                                    <TaskListItem task={task} key={task.id}/>\r\n                                )\r\n                            }\r\n                        </Card>\r\n                    </Col>\r\n                    <Col xs={24} lg={12}>\r\n                        {\r\n                            Object.keys(tasks.task).length !== 0\r\n                                ?\r\n                                <Card title={tasks.task.name}>\r\n                                    {tasks.task.description}\r\n                                </Card>\r\n                                :\r\n                                <Card>\r\n                                    <Empty description='Выберите задачу'/>\r\n                                </Card>\r\n                        }\r\n                    </Col>\r\n                </Row>\r\n            </Card>\r\n\r\n            <TaskModal\r\n                open={createModalOpen}\r\n                loading={loading}\r\n                onCancel={() => setCreateModalOpen(false)}\r\n                onFinish={createNewTask}\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default observer(TasksPage);"],"mappings":"waAAA,MAAO,CAAAA,KAAK,EAAGC,SAAS,KAAO,OAAO,CACtC,OAAQC,QAAQ,KAAO,OAAO,CAE9B,MAAO,CAAAC,KAAK,KAAM,mBAAmB,CACrC,OAAQC,MAAM,CAAEC,IAAI,CAAEC,GAAG,CAAEC,OAAO,CAAEC,GAAG,CAAEC,KAAK,CAAEC,OAAO,KAAO,MAAM,CACpE,OAAQC,cAAc,CAAEC,YAAY,KAAO,mBAAmB,CAC9D,MAAO,CAAAC,SAAS,KAAM,sCAAsC,CAC5D,OAAQC,QAAQ,KAAO,iBAAiB,CACxC,MAAO,CAAAC,YAAY,KAAM,4CAA4C,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAEtE,GAAM,CAAAC,SAAS,CAAG,QAAZ,CAAAA,SAASA,CAAA,CAAS,CACpB,IAAAC,SAAA,CAA8CrB,QAAQ,CAAU,KAAK,CAAC,CAAAsB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/DG,eAAe,CAAAF,UAAA,IAAEG,kBAAkB,CAAAH,UAAA,IAC1C,IAAAI,UAAA,CAA8B1B,QAAQ,CAAU,KAAK,CAAC,CAAA2B,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA/CE,OAAO,CAAAD,UAAA,IAAEE,UAAU,CAAAF,UAAA,IAE1B,GAAM,CAAAG,aAAa,6BAAAC,IAAA,CAAAC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAG,SAAAC,QAAOC,IAAe,SAAAH,mBAAA,GAAAI,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SACxCZ,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACA5B,KAAK,CAACyC,OAAO,CAACN,IAAI,CAAC,CACnBX,kBAAkB,CAAC,KAAK,CAAC,CAC7B,CAAE,MAAOkB,CAAC,CAAE,CACRtC,OAAO,CAACuC,KAAK,CAAC,2BAA2B,CAAC,CAC9C,CACAf,UAAU,CAAC,KAAK,CAAC,CAAC,wBAAAU,QAAA,CAAAM,IAAA,MAAAV,OAAA,GACrB,kBATK,CAAAL,aAAaA,CAAAgB,EAAA,SAAAf,IAAA,CAAAgB,KAAA,MAAAC,SAAA,OASlB,CAEDjD,SAAS,CAAC,UAAM,CACZE,KAAK,CAACgD,wBAAwB,CAAC,CAAC,CACpC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIhC,KAAA,CAAAE,SAAA,EAAA+B,QAAA,eACInC,IAAA,CAACZ,IAAI,EAACgD,KAAK,CAAE,CAACC,KAAK,CAAE,MAAM,CAAEC,SAAS,CAAE,MAAM,CAAEC,MAAM,CAAE,MAAM,CAAEC,QAAQ,CAAE,MAAM,CAAE,CAAAL,QAAA,cAC9EjC,KAAA,CAACX,GAAG,EAACkD,MAAM,CAAE,CAAC,EAAE,CAAE,EAAE,CAAE,CAAAN,QAAA,eAClBnC,IAAA,CAACX,GAAG,EAACqD,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,EAAG,CAAAR,QAAA,cAChBnC,IAAA,CAACZ,IAAI,EAACwD,KAAK,CAAC,qEAAc,CAACC,KAAK,CAAE,cAC9B7C,IAAA,CAACP,OAAO,EAACmD,KAAK,CAAC,uFAAiB,CAAAT,QAAA,cAC5BnC,IAAA,CAACb,MAAM,EACHiD,KAAK,CAAE,CAACU,WAAW,CAAE,EAAE,CAAE,CACzBC,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAArC,kBAAkB,CAAC,IAAI,CAAC,EAAC,CACxCsC,IAAI,cAAEhD,IAAA,CAACL,YAAY,GAAC,CAAE,CACjB,CAAC,CACL,CAAC,cACVK,IAAA,CAACP,OAAO,EAACmD,KAAK,CAAC,iFAAgB,CAAAT,QAAA,cAC/BnC,IAAA,CAACb,MAAM,EACH4D,OAAO,CAAE,SAAAA,QAAA,QAAM,CAAA7D,KAAK,CAAC+D,mBAAmB,CAAC,CAAC,EAAC,CAC3CD,IAAI,cAAEhD,IAAA,CAACN,cAAc,GAAC,CAAE,CACxBwD,MAAM,MACNC,IAAI,CAAC,SAAS,CACT,CAAC,CACD,CAAC,CACZ,CAAAhB,QAAA,CAGMjD,KAAK,CAACA,KAAK,CAACkE,MAAM,CAAC,SAAAC,IAAI,QAAI,CAAAA,IAAI,CAACC,YAAY,GAAKC,SAAS,GAAC,CAACC,GAAG,CAAC,SAAAH,IAAI,qBAChErD,IAAA,CAACF,YAAY,EAACuD,IAAI,CAAEA,IAAK,EAAMA,IAAI,CAACI,EAAI,CAAC,EAC7C,CAAC,CAEH,CAAC,CACN,CAAC,cACNzD,IAAA,CAACX,GAAG,EAACqD,EAAE,CAAE,EAAG,CAACC,EAAE,CAAE,EAAG,CAAAR,QAAA,CAEZuB,MAAM,CAACC,IAAI,CAACzE,KAAK,CAACmE,IAAI,CAAC,CAACO,MAAM,GAAK,CAAC,cAEhC5D,IAAA,CAACZ,IAAI,EAACwD,KAAK,CAAE1D,KAAK,CAACmE,IAAI,CAACQ,IAAK,CAAA1B,QAAA,CACxBjD,KAAK,CAACmE,IAAI,CAACS,WAAW,CACrB,CAAC,cAEP9D,IAAA,CAACZ,IAAI,EAAA+C,QAAA,cACDnC,IAAA,CAACR,KAAK,EAACsE,WAAW,CAAC,uFAAiB,CAAC,CAAC,CACpC,CAAC,CAEd,CAAC,EACL,CAAC,CACJ,CAAC,cAEP9D,IAAA,CAACJ,SAAS,EACNmE,IAAI,CAAEtD,eAAgB,CACtBI,OAAO,CAAEA,OAAQ,CACjBmD,QAAQ,CAAE,SAAAA,SAAA,QAAM,CAAAtD,kBAAkB,CAAC,KAAK,CAAC,EAAC,CAC1CuD,QAAQ,CAAElD,aAAc,CAC3B,CAAC,EACJ,CAAC,CAEX,CAAC,CAED,cAAe,CAAAlB,QAAQ,CAACQ,SAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}